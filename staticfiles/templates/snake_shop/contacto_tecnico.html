{% extends "snake_shop/base.html" %}
{% load widget_tweaks %}

{% block content %}
<div class="form-container">
    <div class="contact-form-box">
        <h1 class="section-title" style="text-align: center;">Solicitud de Servicio Técnico</h1>
        <p class="form-description">Por favor, complete los campos para que nuestro equipo pueda iniciar el diagnóstico
            de su producto.</p>

        <form method="post" enctype="multipart/form-data" class="tech-contact-form">
            {% csrf_token %}

            {% for error in form.non_field_errors %}
            <div class="alert alert-danger" role="alert">{{ error }}</div>
            {% endfor %}

            <div class="form-field">
                <label for="{{ form.nombre_completo.id_for_label }}" class="form-label">Nombre Completo *</label>
                {{ form.nombre_completo|add_class:"profile-input"|attr:"required:true" }}
                {% for error in form.nombre_completo.errors %}<small class="text-danger">{{ error }}</small>{% endfor %}
            </div>
            <div class="form-field">
                <label for="{{ form.email.id_for_label }}" class="form-label">Email *</label>
                {{ form.email|add_class:"profile-input"|attr:"required:true" }}
                {% for error in form.email.errors %}<small class="text-danger">{{ error }}</small>{% endfor %}
            </div>

            <div class="form-field">
                <label for="{{ form.tipo_solicitud.id_for_label }}" class="form-label">Tipo de Solicitud *</label>
                {{ form.tipo_solicitud|add_class:"profile-input"|attr:"required:true" }}
                {% for error in form.tipo_solicitud.errors %}<small class="text-danger">{{ error }}</small>{% endfor %}
            </div>

            <div class="form-field order-id-field"> <label for="{{ form.numero_pedido.id_for_label }}"
                    class="form-label">Número de Pedido/Factura (Opcional)</label>
                {{ form.numero_pedido|add_class:"profile-input order-check-input"|attr:"placeholder:Ej: #12345" }}
                <small class="helptext">{{ form.numero_pedido.help_text }}</small>
                {% for error in form.numero_pedido.errors %}<small class="text-danger">{{ error }}</small>{% endfor %}
            </div>
            <div class="form-field">
                <label for="{{ form.asunto.id_for_label }}" class="form-label">Asunto *</label>
                {{ form.asunto|add_class:"profile-input"|attr:"placeholder:Ej: Problema de batería"|attr:"required:true"
                }}
                {% for error in form.asunto.errors %}<small class="text-danger">{{ error }}</small>{% endfor %}
            </div>

            <div class="form-field">
                <label for="{{ form.descripcion.id_for_label }}" class="form-label">Descripción Detallada del Problema
                    *</label>
                {{ form.descripcion|add_class:"profile-input"|attr:"rows:4"|attr:"required:true" }}
                {% for error in form.descripcion.errors %}<small class="text-danger">{{ error }}</small>{% endfor %}
            </div>

            <div class="form-field">
                <label for="{{ form.archivo.id_for_label }}" class="form-label">Adjuntar Fotos/Videos (Opcional)</label>
                {{ form.archivo|add_class:"profile-input" }}
                {% for error in form.archivo.errors %}<small class="text-danger">{{ error }}</small>{% endfor %}
            </div>

            <button type="submit" class="btn checkout-button-final w-100">
                Enviar Solicitud de Servicio
            </button>
        </form>
    </div>
</div>
{% endblock %}